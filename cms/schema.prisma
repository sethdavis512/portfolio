// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id               String    @id @default(cuid())
  name             String    @default("")
  email            String    @unique @default("")
  password         String
  posts            Post[]    @relation("Post_author")
  createdAt        DateTime? @default(now())
  prompts          Prompt[]  @relation("Prompt_author")
  from_Work_author Work[]    @relation("Work_author")
}

model Post {
  id        String    @id @default(cuid())
  createdAt DateTime? @default(now())
  updatedAt DateTime? @default(now()) @updatedAt
  status    String    @default("DRAFT")
  title     String    @unique @default("")
  slug      String    @unique @default("")
  content   Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  author    User?     @relation("Post_author", fields: [authorId], references: [id])
  authorId  String?   @map("author")
  tags      Tag[]     @relation("Post_tags")

  @@index([authorId])
}

model Tag {
  id      String   @id @default(cuid())
  name    String   @default("")
  posts   Post[]   @relation("Post_tags")
  prompts Prompt[] @relation("Prompt_tags")
  works   Work[]   @relation("Tag_works")
}

model Prompt {
  id        String    @id @default(cuid())
  createdAt DateTime? @default(now())
  updatedAt DateTime? @default(now()) @updatedAt
  title     String    @unique @default("")
  slug      String    @unique @default("")
  content   Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  author    User?     @relation("Prompt_author", fields: [authorId], references: [id])
  authorId  String?   @map("author")
  tags      Tag[]     @relation("Prompt_tags")

  @@index([authorId])
}

model Work {
  id                 String      @id @default(cuid())
  createdAt          DateTime?   @default(now())
  updatedAt          DateTime?   @default(now()) @updatedAt
  title              String      @unique @default("")
  slug               String      @unique @default("")
  status             String      @default("DRAFT")
  sortOrder          Int?        @default(0)
  description        String      @default("")
  cta                String      @default("See more")
  heroImage          Json?
  thumbnailImage     Json?
  about              String      @default("")
  learned            String      @default("")
  impact             String      @default("")
  content            Json        @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  techStack          Json?       @default("[]")
  sourceUrl          String      @default("")
  demoUrl            String      @default("")
  demoUrlText        String      @default("")
  purchaseUrl        String      @default("")
  purchaseButtonText String      @default("Purchase")
  sidebarTitle       String      @default("Get It Now")
  features           Json?       @default("[]")
  sidebarType        String?     @default("none")
  galleryImages      WorkImage[] @relation("WorkImage_work")
  author             User?       @relation("Work_author", fields: [authorId], references: [id])
  authorId           String?     @map("author")
  tags               Tag[]       @relation("Tag_works")

  @@index([authorId])
}

model Skill {
  id        String @id @default(cuid())
  name      String @unique @default("")
  sortOrder Int?   @default(0)
  status    String @default("DRAFT")
}

model Experience {
  id        String @id @default(cuid())
  title     String @default("")
  company   String @default("")
  location  String @default("Austin, TX")
  dates     String @default("")
  type      String @default("job")
  sortOrder Int?   @default(0)
  bullets   Json?  @default("[]")
  status    String @default("DRAFT")
}

model Quote {
  id        String @id @default(cuid())
  text      String @unique @default("")
  author    String @default("")
  sortOrder Int?   @default(0)
  status    String @default("DRAFT")
}

model AboutFact {
  id           String  @id @default(cuid())
  emoji        String  @default("")
  title        String  @unique @default("")
  content      String  @default("")
  linkUrl      String  @default("")
  linkExternal String? @default("true")
  sortOrder    Int?    @default(0)
  status       String  @default("DRAFT")
}

model WorkImage {
  id        String  @id @default(cuid())
  image     Json?
  alt       String  @default("")
  sortOrder Int?    @default(0)
  work      Work?   @relation("WorkImage_work", fields: [workId], references: [id])
  workId    String? @map("work")

  @@index([workId])
}

model Value {
  id          String @id @default(cuid())
  title       String @unique @default("")
  description String @default("")
  sortOrder   Int?   @default(0)
  status      String @default("DRAFT")
}

model Offering {
  id                     String    @id @default(cuid())
  name                   String    @unique @default("")
  description            String    @default("")
  order                  Int?      @default(0)
  from_Package_offerings Package[] @relation("Package_offerings")
}

model Package {
  id          String     @id @default(cuid())
  status      String     @default("DRAFT")
  name        String     @unique @default("")
  description String     @default("")
  type        String     @default("ONE_TIME")
  offerings   Offering[] @relation("Package_offerings")
  price       Int?       @default(0)
  order       Int?       @default(0)
}
